{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/assets/icons/check_icon.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst CheckIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n      className=\"w-5 h-5 text-white\"\r\n    >\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        d=\"M16.707 5.293a1 1 0 00-1.414 0L8 12.586 4.707 9.293A1 1 0 103.293 10.707l4 4a1 1 0 001.414 0l8-8a1 1 0 000-1.414z\"\r\n        clipRule=\"evenodd\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CheckIcon;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,YAAY;IAChB,qBACE,6LAAC;QACC,OAAM;QACN,SAAQ;QACR,MAAK;QACL,WAAU;kBAEV,cAAA,6LAAC;YACC,UAAS;YACT,GAAE;YACF,UAAS;;;;;;;;;;;AAIjB;KAfM;uCAiBS","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/app/%28user%29/ring/%5BringId%5D/page.js"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams } from \"next/navigation\";\nimport { fetchProducts, selectProductsState } from \"../../../../store/features/couter/fechDataSlice.js\";\nimport { toIntegerVND } from \"../../utils/price\";\nimport CheckIcon from \"../../../../assets/icons/check_icon.js\";\n\nconst formatPriceVND = (input) => new Intl.NumberFormat(\"vi-VN\", { maximumFractionDigits: 0 }).format(toIntegerVND(input));\n\nexport default function Page() {\n  const dispatch = useDispatch();\n  const { products, status, error } = useSelector(selectProductsState);\n  const params = useParams();\n  const ringId = params?.ringId;\n\n  React.useEffect(() => {\n    if (status === \"idle\") {\n      dispatch(fetchProducts());\n    }\n  }, [status, dispatch]);\n\n  const product = React.useMemo(() => {\n    return Array.isArray(products)\n      ? products.find((p) => String(p?.product_id) === String(ringId))\n      : undefined;\n  }, [products, ringId]);\n\n  const images = Array.isArray(product?.ProductImages) ? product.ProductImages : [];\n  const mainImage = images.find((im) => im?.is_main) || images[0];\n\n  const addToCart = () => {\n    if (!product) return;\n    const item = {\n      product_id: product.product_id,\n      name: product.name,\n      price: product.price,\n      discount_price: product.discount_price,\n      quantity: 1,\n      selected: true,\n      image_url: mainImage?.image_url || (images[0]?.image_url || \"\"),\n    };\n    try {\n      const raw = localStorage.getItem(\"cart_items\");\n      const list = raw ? JSON.parse(raw) : [];\n      let found = false;\n      const updated = Array.isArray(list)\n        ? list.map((it) => {\n            if (String(it.product_id) === String(item.product_id)) {\n              found = true;\n              return { ...it, quantity: (Number(it.quantity) || 1) + 1, selected: true };\n            }\n            return it;\n          })\n        : [];\n      const next = found ? updated : [...updated, item];\n      localStorage.setItem(\"cart_items\", JSON.stringify(next));\n    alert(\"da them vao gio\")\n    } catch {}\n  };\n\n  return (\n    <div className=\"w-full flex justify-center mt-6 mb-12\">\n      <div className=\"w-[90%] max-w-[1200px]\">\n        {status === \"failed\" && (\n          <div className=\"p-4 text-sm text-red-500\">Lỗi tải dữ liệu: {String(error)}</div>\n        )}\n\n        {(status === \"loading\" || status === \"idle\") && (\n          <div className=\"p-4 text-sm text-gray-500\">Đang tải sản phẩm...</div>\n        )}\n\n        {status === \"succeeded\" && product && (\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n            <div>\n              {mainImage?.image_url && (\n                <img\n                  src={mainImage.image_url}\n                  alt={product.name}\n                  className=\"w-full h-[420px] object-cover rounded-md border\"\n                />\n              )}\n              {images.length > 1 && (\n                <div className=\"mt-4 grid grid-cols-4 gap-3\">\n                  {images.map((img) => (\n                    <img\n                      key={img.image_id}\n                      src={img.image_url}\n                      alt={product.name}\n                      className={`h-[80px] w-full object-cover rounded border ${\n                        img.image_id === mainImage?.image_id ? \"ring-2 ring-[#9B8D6F]\" : \"\"\n                      }`}\n                    />\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex flex-col gap-4\">\n              <h1 className=\"text-2xl font-semibold text-[#3A3A3A]\">{product.name}</h1>\n              {(() => {\n                const priceInt = toIntegerVND(product.price);\n                const discountInt = toIntegerVND(product.discount_price);\n                const hasDiscount = Number.isFinite(priceInt) && Number.isFinite(discountInt) && discountInt > 0 && discountInt < priceInt;\n                const finalPrice = hasDiscount ? Math.max(priceInt - discountInt, 0) : priceInt;\n                return hasDiscount ? (\n                  <div className=\"flex items-baseline gap-2\">\n                    <span className=\"text-xl font-semibold text-[#9B8D6F]\">{formatPriceVND(finalPrice)} ₫</span>\n                    <span className=\"text-base text-gray-400 line-through\">{formatPriceVND(priceInt)} ₫</span>\n                  </div>\n                ) : (\n                  <div className=\"text-xl text-[#9B8D6F]\">{formatPriceVND(priceInt)} ₫</div>\n                );\n              })()}\n              <div className=\" w-[80px] text-sm font-bold\">\n                Chất liệu\n                <div className=\" h-[30px] flex justify-center items-center border rounded-[8px] mt-[20px] font-normal\">\n                  {product.material === \"vang\" ? <>Vàng</> : <>Kim cương</>}\n                </div>\n              </div>\n              <div className=\" text-sm font-bold\">\n                Màu\n                <div className=\"mt-[10px] flex items-center gap-3\">\n                  {(() => {\n                    const current = String(product.color || \"\").toLowerCase();\n                    const colors = [\n                      { key: \"trang\", hex: \"#D6D6D6\" },\n                      { key: \"vang\", hex: \"#F1DC87\" },\n                      { key: \"hong\", hex: \"#F2BAA8\" },\n                    ];\n                    return colors.map((color) => (\n                      <div key={color.key} className=\"w-[40px] h-[40px] rounded-[8px] border border-gray-300 relative\" style={{ backgroundColor: color.hex }}>\n                        {(current === color.key || (color.key === \"hong\" && current.includes(\"hong\"))) && (\n                          <div className=\"absolute inset-0 flex items-center justify-center\">\n                            <CheckIcon />\n                          </div>\n                        )}\n                      </div>\n                    ));\n                  })()}\n                </div>\n              </div>\n\n              <div className=\" text-sm font-bold\">\n                Tồn kho: {Number.isFinite(product.stock_quantity) ? product.stock_quantity : \"?\"}\n              </div>\n\n              <div className=\"mt-2 flex gap-4\">\n                <button onClick={addToCart} className=\" w-[260px] h-[60px] text-[24px] rounded bg-white border border-black cursor-pointer\">Thêm vào giỏ</button>\n                <button className=\" w-[260px] h-[60px] text-[24px] rounded border border-[#9B8D6F] text-white bg-[#9B8D6F]\">Mua ngay</button>\n              </div>\n            </div>\n            <div className=\" flex flex-col gap-[20px]\">\n              <div className=\" text-[32px] font-medium\">Giới thiệu về sản phẩm</div>\n              <div className=\" text-[24px] font-extralight\">{product.description}</div>\n            </div>\n          </div>\n        )}\n\n        {status === \"succeeded\" && !product && (\n          <div className=\"p-4 text-sm text-gray-500\">Không tìm thấy sản phẩm</div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 436, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}
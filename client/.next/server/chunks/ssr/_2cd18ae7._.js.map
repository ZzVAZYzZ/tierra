{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/app/%28user%29/components/Filters.jsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\nconst Filters = ({\n  priceRange,\n  color,\n  material,\n  sortBy,\n  onPriceRangeChange,\n  onColorChange,\n  onMaterialChange,\n  onSortChange,\n}) => {\n  return (\n    <div className=\" flex flex-col gap-[11px]\">\n      <p className=\"text-[24px]\">Bộ lọc</p>\n      <div\n        className=\"flex flex-col gap-2 ml-[20px] text-[15px]\"\n        style={{ accentColor: \"black\" }}\n      >\n        {/* loc theo gia tien */}\n        <p className=\"text-[20px]\">Theo giá</p>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"priceGroup\"\n            value=\"1\"\n            checked={priceRange === \"1\"}\n            onChange={(e) =>\n              onPriceRangeChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Dưới 20 triệu</p>\n        </label>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"priceGroup\"\n            value=\"2\"\n            checked={priceRange === \"2\"}\n            onChange={(e) =>\n              onPriceRangeChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Từ 20 triệu đến 30 triệu</p>\n        </label>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"priceGroup\"\n            value=\"3\"\n            checked={priceRange === \"3\"}\n            onChange={(e) =>\n              onPriceRangeChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Từ 30 triệu đến 40 triệu</p>\n        </label>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"priceGroup\"\n            value=\"4\"\n            checked={priceRange === \"4\"}\n            onChange={(e) =>\n              onPriceRangeChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Từ 40 triệu đến 100 triệu</p>\n        </label>\n        {/* loc theo mau sac */}\n        <p className=\"text-[20px]\">Màu sắc</p>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"colorGroup\"\n            value=\"5\"\n            checked={color === \"5\"}\n            onChange={(e) =>\n              onColorChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 appearance-none w-[13] h-[13] border-2 border-[#F1DC87] checked:bg-[#F1DC87] cursor-pointer\"\n          />\n          <p>Vàng</p>\n        </label>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"colorGroup\"\n            value=\"6\"\n            checked={color === \"6\"}\n            onChange={(e) =>\n              onColorChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 appearance-none w-[13] h-[13] border-2 border-[#F2BAA8] checked:bg-[#F2BAA8] cursor-pointer\"\n          />\n          <p>Vàng hồng</p>\n        </label>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"colorGroup\"\n            value=\"7\"\n            checked={color === \"7\"}\n            onChange={(e) =>\n              onColorChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 appearance-none w-[13] h-[13] border-2 border-[#D6D6D6] checked:bg-[#D6D6D6] cursor-pointer\"\n          />\n          <p>Trắng</p>\n        </label>\n        {/* loc theo chat lieu */}\n        <p className=\"text-[20px]\">Chất liệu</p>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"materialGroup\"\n            value=\"8\"\n            checked={material === \"8\"}\n            onChange={(e) =>\n              onMaterialChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Vàng</p>\n        </label>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"materialGroup\"\n            value=\"9\"\n            checked={material === \"9\"}\n            onChange={(e) =>\n              onMaterialChange?.(e.target.checked ? e.target.value : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Kim cương</p>\n        </label>\n      </div>\n\n      <p className=\"text-[24px]\">Sắp xếp</p>\n      <div className=\"flex flex-col gap-2\" style={{ accentColor: \"black\" }}>\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"sortGroup\"\n            value=\"priceAsc\"\n            checked={sortBy === \"priceAsc\"}\n            onChange={(e) => onSortChange?.(e.target.checked ? \"priceAsc\" : \"\")}\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Giá từ thấp đến cao</p>\n        </label>\n\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"sortGroup\"\n            value=\"priceDesc\"\n            checked={sortBy === \"priceDesc\"}\n            onChange={(e) =>\n              onSortChange?.(e.target.checked ? \"priceDesc\" : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Giá từ cao đến thấp</p>\n        </label>\n\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"sortGroup\"\n            value=\"bestSeller\"\n            checked={sortBy === \"bestSeller\"}\n            onChange={(e) =>\n              onSortChange?.(e.target.checked ? \"bestSeller\" : \"\")\n            }\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>Bán chạy</p>\n        </label>\n\n        <label className=\"flex items-center cursor-pointer\">\n          <input\n            type=\"checkbox\"\n            name=\"sortGroup\"\n            value=\"nameAsc\"\n            checked={sortBy === \"nameAsc\"}\n            onChange={(e) => onSortChange?.(e.target.checked ? \"nameAsc\" : \"\")}\n            className=\"mr-2 cursor-pointer\"\n          />\n          <p>A-Z</p>\n        </label>\n      </div>\n    </div>\n  );\n};\n\nexport default Filters;\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/app/%28user%29/components/ProductCard.jsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport HeartIcon from \"../../../assets/icons/heart_icon\";\r\nimport { toIntegerVND } from \"../utils/price\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\nconst formatPriceVND = (input) =>\r\n  new Intl.NumberFormat(\"vi-VN\", { maximumFractionDigits: 0 }).format(\r\n    toIntegerVND(input)\r\n  );\r\n\r\nconst ProductCard = ({ item, isFavorite, onToggleFavorite }) => {\r\n  const router = useRouter();\r\n  \r\n  const goToDetail = () => {\r\n    const id = item?.product_id;\r\n    const cat = String(item?.Category?.name || \"\").trim().toLowerCase();\r\n    if (!id) return;\r\n    const map = {\r\n      \"nhan\": \"ring\",\r\n      \"bong tai\": \"earring\",\r\n      \"day chuyen\": \"necklace\",\r\n      \"vong tay\": \"bracelet\",\r\n    };\r\n    const segment = map[cat] || \"ring\";\r\n    router.push(`/${segment}/${id}`);\r\n  };\r\n\r\n  const images = Array.isArray(item?.ProductImages) ? item.ProductImages : [];\r\n  const mainImage = images.find((img) => img?.is_main) || images[0];\r\n\r\n  return (\r\n    <div\r\n      className=\"w-[250px] h-[350px] flex flex-col justify-around border border-[#D6D6D6] hover:shadow-xl transition-shadow duration-300 rounded-md cursor-pointer relative\"\r\n      onClick={goToDetail}\r\n    >\r\n      <div className=\"w-[248px] h-[250px] overflow-hidden rounded-t-md\">\r\n        {mainImage?.image_url ? (\r\n          <img\r\n            src={mainImage.image_url}\r\n            alt={item?.name}\r\n            className=\"w-full h-full object-cover\"\r\n          />\r\n        ) : (\r\n          <div className=\"w-full h-full bg-gray-100 flex items-center justify-center text-gray-400 text-sm\">\r\n            Không có hình ảnh\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"text-[20px] font-medium ml-[15px]\">{item?.name}</div>\r\n      <div className=\"mt-[20px] mb-[10px] ml-[15px]\">\r\n        {(() => {\r\n          const priceInt = toIntegerVND(item?.price);\r\n          const discountInt = toIntegerVND(item?.discount_price);\r\n          const hasDiscount = Number.isFinite(priceInt) && Number.isFinite(discountInt) && discountInt > 0 && discountInt < priceInt;\r\n          const finalPrice = hasDiscount ? Math.max(priceInt - discountInt, 0) : priceInt;\r\n          return hasDiscount ? (\r\n            <div className=\"flex items-baseline gap-2\">\r\n              <span className=\"text-[16px] font-semibold text-[#9B8D6F]\">{formatPriceVND(finalPrice)} ₫</span>\r\n              <span className=\"text-[14px] text-gray-400 line-through\">{formatPriceVND(priceInt)} ₫</span>\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-[16px] text-[#9B8D6F]\">{formatPriceVND(priceInt)} ₫</div>\r\n          );\r\n        })()}\r\n      </div>\r\n      <button\r\n        type=\"button\"\r\n        aria-label=\"Yêu thích\"\r\n        className=\" absolute top-[10px] right-[10px]\"\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          e.stopPropagation();\r\n          onToggleFavorite?.();\r\n        }}\r\n      >\r\n        <HeartIcon isFavorite={isFavorite} onClick={() => {}} />\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAJA;;;;;;AAMA,MAAM,iBAAiB,CAAC,QACtB,IAAI,KAAK,YAAY,CAAC,SAAS;QAAE,uBAAuB;IAAE,GAAG,MAAM,CACjE,IAAA,wJAAY,EAAC;AAGjB,MAAM,cAAc,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,gBAAgB,EAAE;IACzD,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,aAAa;QACjB,MAAM,KAAK,MAAM;QACjB,MAAM,MAAM,OAAO,MAAM,UAAU,QAAQ,IAAI,IAAI,GAAG,WAAW;QACjE,IAAI,CAAC,IAAI;QACT,MAAM,MAAM;YACV,QAAQ;YACR,YAAY;YACZ,cAAc;YACd,YAAY;QACd;QACA,MAAM,UAAU,GAAG,CAAC,IAAI,IAAI;QAC5B,OAAO,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,IAAI;IACjC;IAEA,MAAM,SAAS,MAAM,OAAO,CAAC,MAAM,iBAAiB,KAAK,aAAa,GAAG,EAAE;IAC3E,MAAM,YAAY,OAAO,IAAI,CAAC,CAAC,MAAQ,KAAK,YAAY,MAAM,CAAC,EAAE;IAEjE,qBACE,8OAAC;QACC,WAAU;QACV,SAAS;;0BAET,8OAAC;gBAAI,WAAU;0BACZ,WAAW,0BACV,8OAAC;oBACC,KAAK,UAAU,SAAS;oBACxB,KAAK,MAAM;oBACX,WAAU;;;;;6EAGZ,8OAAC;oBAAI,WAAU;8BAAmF;;;;;;;;;;;0BAKtG,8OAAC;gBAAI,WAAU;0BAAqC,MAAM;;;;;;0BAC1D,8OAAC;gBAAI,WAAU;0BACZ,CAAC;oBACA,MAAM,WAAW,IAAA,wJAAY,EAAC,MAAM;oBACpC,MAAM,cAAc,IAAA,wJAAY,EAAC,MAAM;oBACvC,MAAM,cAAc,OAAO,QAAQ,CAAC,aAAa,OAAO,QAAQ,CAAC,gBAAgB,cAAc,KAAK,cAAc;oBAClH,MAAM,aAAa,cAAc,KAAK,GAAG,CAAC,WAAW,aAAa,KAAK;oBACvE,OAAO,4BACL,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;oCAA4C,eAAe;oCAAY;;;;;;;0CACvF,8OAAC;gCAAK,WAAU;;oCAA0C,eAAe;oCAAU;;;;;;;;;;;;iFAGrF,8OAAC;wBAAI,WAAU;;4BAA8B,eAAe;4BAAU;;;;;;;gBAE1E,CAAC;;;;;;0BAEH,8OAAC;gBACC,MAAK;gBACL,cAAW;gBACX,WAAU;gBACV,SAAS,CAAC;oBACR,EAAE,cAAc;oBAChB,EAAE,eAAe;oBACjB;gBACF;0BAEA,cAAA,8OAAC,+IAAS;oBAAC,YAAY;oBAAY,SAAS,KAAO;;;;;;;;;;;;;;;;;AAI3D;uCAEe","debugId":null}},
    {"offset": {"line": 615, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/app/%28user%29/components/ProductGrid.jsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport ProductCard from \"./ProductCard\";\n\nconst ProductGrid = ({ products, favorites, onToggleFavorite }) => {\n  const count = Array.isArray(products) ? products.length : 0;\n  return (\n    <div className=\"flex flex-col mb-[50px] gap-[25px]\">\n      <p>Hiện có {count} sản phẩm</p>\n      <div className=\" min-w-[1030px] grid grid-cols-4 gap-[30px]\">\n        {products?.map((item, index) => (\n          <ProductCard\n            key={index}\n            item={item}\n            isFavorite={favorites?.includes(item.product_id)}\n            onToggleFavorite={() => onToggleFavorite?.(item.product_id)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductGrid;\n\n"],"names":[],"mappings":";;;;;AACA;AACA;AAFA;;;;AAIA,MAAM,cAAc,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,gBAAgB,EAAE;IAC5D,MAAM,QAAQ,MAAM,OAAO,CAAC,YAAY,SAAS,MAAM,GAAG;IAC1D,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;;oBAAE;oBAAS;oBAAM;;;;;;;0BAClB,8OAAC;gBAAI,WAAU;0BACZ,UAAU,IAAI,CAAC,MAAM,sBACpB,8OAAC,+JAAW;wBAEV,MAAM;wBACN,YAAY,WAAW,SAAS,KAAK,UAAU;wBAC/C,kBAAkB,IAAM,mBAAmB,KAAK,UAAU;uBAHrD;;;;;;;;;;;;;;;;AASjB;uCAEe","debugId":null}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/app/%28user%29/earring/page.js"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport Filters from \"../components/Filters\";\r\nimport ProductGrid from \"../components/ProductGrid\";\r\nimport { toIntegerVND } from \"../utils/price\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchProducts, selectProductsState } from \"../../../store/features/couter/fechDataSlice.js\";\r\n\r\nconst parsePrice = toIntegerVND;\r\n\r\nexport default function Page() {\r\n  const dispatch = useDispatch();\r\n  const { products, status, error } = useSelector(selectProductsState);\r\n  const [favorites, setFavorites] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    if (status === \"idle\") {\r\n      dispatch(fetchProducts());\r\n    }\r\n  }, [status, dispatch]);\r\n\r\n  // Filter & sort state\r\n  const [priceRange, setPriceRange] = React.useState(\"\");\r\n  const [color, setColor] = React.useState(\"\");\r\n  const [material, setMaterial] = React.useState(\"\");\r\n  const [sortBy, setSortBy] = React.useState(\"\");\r\n\r\n  // Apply category filter for \"bong tai\" + other filters/sorts\r\n  const displayedData = React.useMemo(() => {\r\n    let list = Array.isArray(products) ? [...products] : [];\r\n\r\n    // category filter\r\n    list = list.filter((item) => {\r\n      const cat = item?.Category?.name || \"\";\r\n      return String(cat).trim().toLowerCase() === \"bong tai\";\r\n    });\r\n\r\n    // price range filter\r\n    if (priceRange) {\r\n      let min = 0, max = Infinity;\r\n      if (priceRange.includes(\"-\")) {\r\n        const [minStr, maxStr] = priceRange.split(\"-\");\r\n        min = Number(minStr);\r\n        max = Number(maxStr);\r\n      } else {\r\n        if (priceRange === \"1\") {\r\n          min = 0;\r\n          max = 20;\r\n        } else if (priceRange === \"2\") {\r\n          min = 20;\r\n          max = 30;\r\n        } else if (priceRange === \"3\") {\r\n          min = 30;\r\n          max = 40;\r\n        } else if (priceRange === \"4\") {\r\n          min = 40;\r\n          max = 100;\r\n        }\r\n      }\r\n      list = list.filter((item) => {\r\n        const price = parsePrice(item.price);\r\n        return price >= min * 1_000_000 && price <= max * 1_000_000;\r\n      });\r\n    }\r\n\r\n    // color filter\r\n    if (color) {\r\n      let colorName = color;\r\n      if (color === \"5\") colorName = \"Vang\";\r\n      else if (color === \"6\") colorName = \"Vang hong\";\r\n      else if (color === \"7\") colorName = \"Trang\";\r\n      list = list.filter(\r\n        (item) => String(item.color).toLowerCase() === String(colorName).toLowerCase()\r\n      );\r\n    }\r\n\r\n    // material filter\r\n    if (material) {\r\n      let materialName = material;\r\n      if (material === \"8\") materialName = \"vang\";\r\n      else if (material === \"9\") materialName = \"kim cuong\";\r\n      list = list.filter(\r\n        (item) => String(item.material).toLowerCase() === String(materialName).toLowerCase()\r\n      );\r\n    }\r\n\r\n    // sorting\r\n    if (sortBy === \"priceAsc\") {\r\n      list.sort((a, b) => parsePrice(a.price) - parsePrice(b.price));\r\n    } else if (sortBy === \"priceDesc\") {\r\n      list.sort((a, b) => parsePrice(b.price) - parsePrice(a.price));\r\n    } else if (sortBy === \"nameAsc\") {\r\n      list.sort((a, b) => a.name.localeCompare(b.name));\r\n    }\r\n\r\n    return list;\r\n  }, [products, priceRange, color, material, sortBy]);\r\n\r\n  const toggleFavorite = (productId) => {\r\n    setFavorites((prev) =>\r\n      prev.includes(productId)\r\n        ? prev.filter((id) => id !== productId)\r\n        : [...prev, productId]\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\" flex flex-col items-center gap-[30px] mt-[40px]\">\r\n      <div className=\" w-[90%]\">\r\n        <p className=\" text-[32px] text-[#9B8D6F] text-left\">Bông tai</p>\r\n      </div>\r\n      <div className=\"w-[90%] flex flex-row gap-[50px]\">\r\n        <Filters\r\n          priceRange={priceRange}\r\n          color={color}\r\n          material={material}\r\n          sortBy={sortBy}\r\n          onPriceRangeChange={setPriceRange}\r\n          onColorChange={setColor}\r\n          onMaterialChange={setMaterial}\r\n          onSortChange={setSortBy}\r\n        />\r\n\r\n        <div className=\"flex-1\">\r\n          {status === \"loading\" && (\r\n            <div className=\"p-4 text-sm text-gray-500\">Đang tải sản phẩm…</div>\r\n          )}\r\n          {status === \"failed\" && (\r\n            <div className=\"p-4 text-sm text-red-500\">Lỗi tải dữ liệu: {String(error)}</div>\r\n          )}\r\n          <ProductGrid\r\n            products={displayedData}\r\n            favorites={favorites}\r\n            onToggleFavorite={toggleFavorite}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}
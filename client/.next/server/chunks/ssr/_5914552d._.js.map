{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/assets/icons/inside_cart.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst InsideCart = () => {\r\n  return (\r\n    <svg\r\n      width=\"300\"\r\n      height=\"300\"\r\n      viewBox=\"0 0 300 300\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M187.5 35.5875V60.7875C187.501 63.1671 188.182 65.4969 189.461 67.503C190.741 69.5091 192.567 71.1083 194.725 72.1125L199.837 74.5C198.762 92.0375 192.85 107.45 184.287 118.575C174.812 130.9 162.587 137.5 150 137.5C137.412 137.5 125.2 130.9 115.725 118.575C107.15 107.45 101.25 92.0375 100.175 74.5L105.3 72.125C107.456 71.1153 109.279 69.5108 110.555 67.5001C111.83 65.4893 112.505 63.1561 112.5 60.775V35.5875C112.5 29.475 116.925 24.275 123 23.5875C140.944 21.5115 159.068 21.5115 177.012 23.5875C183.087 24.275 187.512 29.475 187.512 35.5875M76.212 85.6875L35.6245 104.625C31.1399 106.719 27.6651 110.501 25.9581 115.147C24.251 119.793 24.4502 124.925 26.512 129.425L82.4995 251.562C83.9949 254.825 86.3951 257.59 89.4152 259.528C92.4352 261.467 95.9482 262.499 99.537 262.5H200.475C204.063 262.499 207.576 261.467 210.596 259.528C213.617 257.59 216.017 254.825 217.512 251.562L273.5 129.437C275.565 124.935 275.764 119.798 274.054 115.149C272.344 110.5 268.865 106.717 264.375 104.625L223.787 85.6875C221.137 104.025 214.212 120.687 204.112 133.812C192.7 148.662 176.862 159.35 158.512 161.912L177.362 188.3C178.498 189.89 179.109 191.796 179.109 193.75C179.109 195.704 178.498 197.61 177.362 199.2L152.55 233.95C152.26 234.355 151.879 234.685 151.436 234.913C150.994 235.141 150.503 235.26 150.006 235.26C149.508 235.26 149.018 235.141 148.575 234.913C148.133 234.685 147.751 234.355 147.462 233.95L122.65 199.2C121.513 197.61 120.903 195.704 120.903 193.75C120.903 191.796 121.513 189.89 122.65 188.3L141.5 161.912C123.162 159.35 107.312 148.662 95.8995 133.825C85.7995 120.7 78.8745 104.037 76.212 85.6875Z\"\r\n        fill=\"#C9C9C9\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default InsideCart;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,aAAa;IACjB,qBACE,8OAAC;QACC,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;kBAEN,cAAA,8OAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;;AAIb;uCAEe","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/assets/icons/trash_icon.js"],"sourcesContent":["import React from \"react\";\r\n\r\nconst TrashIcon = () => {\r\n  return (\r\n    <svg\r\n      width=\"40\"\r\n      height=\"40\"\r\n      viewBox=\"0 0 40 40\"\r\n      fill=\"none\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <path\r\n        d=\"M31.6663 6.66667H25.833L24.1663 5H15.833L14.1663 6.66667H8.33301V10H31.6663M9.99967 31.6667C9.99967 32.5507 10.3509 33.3986 10.976 34.0237C11.6011 34.6488 12.449 35 13.333 35H26.6663C27.5504 35 28.3982 34.6488 29.0234 34.0237C29.6485 33.3986 29.9997 32.5507 29.9997 31.6667V11.6667H9.99967V31.6667Z\"\r\n        fill=\"#C6C6C6\"\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default TrashIcon;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,YAAY;IAChB,qBACE,8OAAC;QACC,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACL,OAAM;kBAEN,cAAA,8OAAC;YACC,GAAE;YACF,MAAK;;;;;;;;;;;AAIb;uCAEe","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/src/app/%28user%29/cart/page.js"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\nimport { toIntegerVND } from \"../utils/price\";\r\nimport InsideCart from \"../../../assets/icons/inside_cart\";\r\nimport TrashIcon from \"../../../assets/icons/trash_icon\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n\r\nconst fmt = (v) =>\r\n  new Intl.NumberFormat(\"vi-VN\", { maximumFractionDigits: 0 }).format(v);\r\n\r\nconst loadCart = () => {\r\n  if (typeof window === \"undefined\") return [];\r\n  try {\r\n    const raw = localStorage.getItem(\"cart_items\");\r\n    const parsed = JSON.parse(raw || \"[]\");\r\n    return Array.isArray(parsed) ? parsed : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst saveCart = (items) => {\r\n  try {\r\n    localStorage.setItem(\"cart_items\", JSON.stringify(items));\r\n  } catch {}\r\n};\r\n\r\nexport default function Page() {\r\n  const [items, setItems] = React.useState([]);\r\n  const router = useRouter();\r\n\r\n  React.useEffect(() => {\r\n    setItems(loadCart());\r\n  }, []);\r\n\r\n  const setAndSave = (updater) => {\r\n    setItems((prev) => {\r\n      const next = typeof updater === \"function\" ? updater(prev) : updater;\r\n      saveCart(next);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const toggleAll = (checked) => {\r\n    setAndSave(items.map((it) => ({ ...it, selected: !!checked })));\r\n  };\r\n\r\n  const toggleOne = (id, checked) => {\r\n    setAndSave(\r\n      items.map((it) =>\r\n        String(it.product_id) === String(id)\r\n          ? { ...it, selected: !!checked }\r\n          : it\r\n      )\r\n    );\r\n  };\r\n\r\n  const removeOne = (id) => {\r\n    setAndSave(items.filter((it) => String(it.product_id) !== String(id)));\r\n  };\r\n\r\n  const clearAll = () => setAndSave([]);\r\n\r\n  const changeQty = (id, delta) => {\r\n    setAndSave(\r\n      items.map((it) => {\r\n        if (String(it.product_id) !== String(id)) return it;\r\n        const next = Math.max(1, (Number(it.quantity) || 1) + delta);\r\n        return { ...it, quantity: next };\r\n      })\r\n    );\r\n  };\r\n\r\n  const priceParts = (it) => {\r\n    const price = toIntegerVND(it.price);\r\n    const discount = toIntegerVND(it.discount_price);\r\n    const has = discount > 0 && discount < price;\r\n    const final = has ? Math.max(price - discount, 0) : price;\r\n    return { price, discount: has ? discount : 0, final };\r\n  };\r\n\r\n  const selectedItems = items.filter((it) => it.selected);\r\n  const subtotal = selectedItems.reduce(\r\n    (sum, it) => sum + priceParts(it).price * (Number(it.quantity) || 1),\r\n    0\r\n  );\r\n  const discountTotal = selectedItems.reduce(\r\n    (sum, it) => sum + priceParts(it).discount * (Number(it.quantity) || 1),\r\n    0\r\n  );\r\n  const total = Math.max(subtotal - discountTotal, 0);\r\n\r\n  const allChecked = items.length > 0 && items.every((it) => it.selected);\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"w-full flex justify-center bg-[#ECECEC]\">\r\n        <div className=\"w-[90%] max-w-[1100px] mt-[60px] mb-12\">\r\n          <div className=\"bg-white rounded-xl border p-10 flex items-center justify-center \">\r\n            <div className=\"text-center\">\r\n              <InsideCart />\r\n              <div className=\"text-lg\">Giỏ hàng hiện đang trống</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full flex justify-center mt-6 mb-12\">\r\n      <div className=\"w-[90%] max-w-[1200px]\">\r\n        <div className=\"w-full bg-white rounded-xl border p-6 flex flex-col\">\r\n          <div className=\"text-center text-2xl font-semibold mb-6\">\r\n            Giỏ hàng\r\n          </div>\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <label className=\"flex items-center gap-2 text-sm\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={allChecked}\r\n                onChange={(e) => toggleAll(e.target.checked)}\r\n              />\r\n              Tất cả sản phẩm\r\n            </label>\r\n            <button className=\"text-sm text-red-500\" onClick={clearAll}>\r\n              Xóa tất cả\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\" bg-white rounded-lg\">\r\n            {items.map((it) => {\r\n              const { price, final } = priceParts(it);\r\n              return (\r\n                <div\r\n                  key={it.product_id}\r\n                  className=\"p-4 flex items-center gap-4\"\r\n                >\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={!!it.selected}\r\n                    onChange={(e) => toggleOne(it.product_id, e.target.checked)}\r\n                  />\r\n                  {it.image_url ? (\r\n                    <img\r\n                      src={it.image_url}\r\n                      alt={it.name}\r\n                      className=\"w-[64px] h-[64px] object-cover rounded\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-[64px] h-[64px] bg-gray-200 rounded\" />\r\n                  )}\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"text-[16px]\">{it.name}</div>\r\n                    <div className=\"mt-2 inline-flex items-center border rounded bg-[#F4F4F4]\">\r\n                      <button\r\n                        className=\"px-3 py-1 cursor-pointer\"\r\n                        onClick={() => changeQty(it.product_id, -1)}\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <div className=\"px-4 py-1 border-l border-r select-none\">\r\n                        {Number(it.quantity) || 1}\r\n                      </div>\r\n                      <button\r\n                        className=\"px-3 py-1 cursor-pointer\"\r\n                        onClick={() => changeQty(it.product_id, 1)}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"mt-2 text-[#3A3A3A] font-semibold\">\r\n                      {fmt(final)} đ\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    className=\" cursor-pointer hover:text-red-500\"\r\n                    title=\"Xóa\"\r\n                    onClick={() => removeOne(it.product_id)}\r\n                  >\r\n                    <TrashIcon />\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          <div className=\"w-full mt-6\">\r\n            <div className=\"flex flex-col items-center\">\r\n              <div className=\"w-[90%] text-[16px] text-[#3A3A3A] space-y-2\">\r\n                <div className=\"flex justify-between\">\r\n                  <p>Tạm tính</p>\r\n                  <p>{fmt(subtotal)} đ</p>\r\n                </div>\r\n                <div className=\"flex justify-between\">\r\n                  <p>Giảm giá</p>\r\n                  <p>{fmt(discountTotal)} đ</p>\r\n                </div>\r\n                <div className=\"flex justify-between font-semibold text-[18px] mt-3\">\r\n                  <p>Tổng tiền</p>\r\n                  <p>{fmt(total)} đ</p>\r\n                </div>\r\n              </div>\r\n              \r\n              <button onClick={() => router.push(\"/orderinfo\")} className=\"mt-6 w-[90%] h-[44px] rounded-full bg-[#9B8D6F] text-white font-medium cursor-pointer hover:opacity-90 transition\">\r\n                Tiếp tục\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///D:/web-nu%20trang/tierra/client/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0],"debugId":null}}]
}